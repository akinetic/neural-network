<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Alex Kinetic and Logos">
    <title>SLRM Manual Técnico (V5.10b)</title>
    <style>
        /* Estilos base para el manual técnico */
        body { font-family: 'Inter', sans-serif; background-color: #f7f9fc; color: #1e293b; padding: 20px; }
        .manual-container { max-width: 900px; margin: 0 auto; background: #ffffff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); }
        h1 { font-size: 2.2em; border-bottom: 3px solid #3b82f6; padding-bottom: 10px; margin-bottom: 20px; color: #1e3a8a; }
        h2 { font-size: 1.8em; color: #1f2937; margin-top: 30px; }
        h3 { font-size: 1.4em; color: #374151; margin-top: 20px; }
        pre { background: #eef2ff; border-left: 4px solid #3b82f6; padding: 15px; overflow-x: auto; border-radius: 6px; font-size: 0.9em; }
        code { background: #eef2ff; padding: 2px 4px; border-radius: 3px; }
        ul { list-style-type: disc; margin-left: 20px; }
        /* Estilo para las variables matemáticas (P y O) */
        .math-var { font-style: italic; font-weight: bold; }
    </style>
</head>
<body>
    <div class="manual-container">
        <h1>Manual Técnico SLRM-LOGOS (V5.10b)</h1>
        <h2>Arquitectura del Núcleo del Modelo de Regresión Lineal Segmentada (SLRM)</h2>

        <p>El Modelo de Regresión Lineal Segmentada (SLRM), impulsado por el algoritmo determinista Logos Core, es una solución rápida y eficiente para la compresión y modelado de datos unidimensionales (Series Temporales, curvas de calibración, etc.).</p>

        <p>Utiliza la técnica de <strong>Segmentos de Línea Mínimos Requeridos (MRLS)</strong> para representar conjuntos de datos con el menor número posible de segmentos lineales, cumpliendo con una tolerancia de error (<span class="math-var">&epsilon;</span>) definida por el usuario.</p>

        <hr style="border: 0; border-top: 1px dashed #e5e7eb; margin: 30px 0;">

        <h3>Características Clave (SLRM V5.10b)</h3>
        <ul>
            <li><strong>Verificación y Robustez:</strong> Versión V5.10b verificada y probada con correcciones críticas en el manejo del error máximo en la compresión Lossy.</li>
            <li><strong>Velocidad:</strong> El proceso central de compresión es no iterativo y determinista, basándose en NumPy para una velocidad de entrenamiento óptima, lo que lo convierte en un modelo de <strong>Entrenamiento Instantáneo</strong>.</li>
            <li><strong>Compresión (Sin Pérdida / Con Pérdida):</strong> Implementa tanto la compresión geométrica exacta (<code>_lossless_compression</code>) como la compresión basada en tolerancia (<code>_lossy_compression</code>).</li>
            <li><strong>Predicción Optimizada:</strong> Utiliza una caché de predicción <strong>LRU (Least Recently Used)</strong> para acelerar drásticamente la inferencia en tiempo real de puntos repetidos o cercanos.</li>
            <li><strong>Integridad de Datos:</strong> Incluye una etapa inicial de purificación de datos (<code>_clean_and_sort_data</code>) para manejar duplicados (promediando los valores Y para la misma X) y ordenar los datos por X.</li>
            <li><strong>Total Interpretación:</strong> El modelo es una "caja transparente," almacenando conocimiento explícito (Pendiente <span class="math-var">P</span> e Intercepto <span class="math-var">O</span>) para cada segmento.</li>
        </ul>

        <h3>Etapas del Proceso de Entrenamiento (V5.10b)</h3>
        <p>La función <code>train_slrm</code> ejecuta una tubería de compresión de tres etapas:</p>

        <ol>
            <li><strong>Purificación y Ordenamiento (<code>_clean_and_sort_data</code>):</strong>
                <ul>
                    <li>Convierte los datos de entrada en una secuencia limpia y ordenada de puntos.</li>
                    <li>Maneja los duplicados de X promediando sus valores Y correspondientes.</li>
                </ul>
            </li>
            <li><strong>Compresión Sin Pérdida (<code>_lossless_compression</code>):</strong>
                <ul>
                    <li><strong>Invarianza Geométrica:</strong> Identifica y elimina todos los puntos intermedios que son geométricamente colineales (puntos críticos de quiebre).</li>
                    <li>El resultado es la <strong>Base de Breakpoints</strong> que preserva la precisión original.</li>
                </ul>
            </li>
            <li><strong>Compresión Con Pérdida (MRLS, <code>_lossy_compression</code>):</strong>
                <ul>
                    <li>Aplica el criterio de error humano <span class="math-var">&epsilon;</span> sobre la Base de Breakpoints.</li>
                    <li>Utiliza la técnica de <strong>Segmentos de Línea Mínimos Requeridos (MRLS)</strong> para extender segmentos hasta que el error de interpolación exceda <span class="math-var">&epsilon;</span>.</li>
                    <li><strong>El modelo final</strong> (<span class="math-var">P</span>, <span class="math-var">O</span>, <span class="math-var">X<sub>fin</sub></span>) es generado y el máximo error real (<span class="math-var">Error<sub>max</sub></span>) es retornado.</li>
                </ul>
            </li>
        </ol>

        <h3 style="margin-top: 40px;">Guía Rápida de Uso</h3>
        <p>El modelo se entrena y se utiliza a través de las funciones <code>train_slrm</code> y <code>predict_slrm</code> en el archivo <code>slrm-logos.py</code>.</p>

        <h4>Requisitos:</h4>
        <p>Debe tener Python y la librería NumPy instalados.</p>
        <pre><code>pip install numpy</code></pre>

        <h4>1. Entrenamiento (V5.10b)</h4>
        <p>Defina sus datos de entrada y la tolerancia (<span class="math-var">&epsilon;</span>).</p>
        <pre><code>from slrm_logos import train_slrm

INPUT_DATA = [
    [-8.00, -4.00], [4.00, 5.0], [6.00, 18.0], [10.00, 27.00]
    # ... más puntos
]

# Entrena el modelo. Retorna el diccionario del modelo final, los puntos originales y el error máximo alcanzado.
final_model, original_points, max_error_achieved = train_slrm(INPUT_DATA, epsilon=0.03) 

# El resultado 'final_model' es un diccionario {X_inicio: [P, O, X_fin]} 
# que define explícitamente cada segmento.</code></pre>

        <h4>2. Predicción (V5.10b)</h4>
        <p>Utilice el diccionario del modelo (<code>final_model</code>) para obtener predicciones para cualquier punto X. La caché LRU se gestiona internamente en la función <code>predict_slrm</code>.</p>
        <pre><code>from slrm_logos import predict_slrm

x_test = 4.5
result = predict_slrm(x_test, final_model, original_points)

print(f"Predicción para X={result['x_in']}: Y={result['y_pred']:.4f}")
print(f"Segmento Activo: P={result['slope_P']:.4f}, O={result['intercept_O']:.4f}")
print(f"Cache Hit: {result['cache_hit']}") # Muestra si la predicción provino de la caché</code></pre>
        <!-- Enlaces de GitHub -->
        <footer class="mt-12 pt-6 border-t border-gray-300">
            <h3 class="text-xl font-semibold mb-3 text-blue-700">Recursos y Scripts de Referencia:</h3>
            <ul class="space-y-2 text-gray-500">
                <li>
                    <a href="https://github.com/akinetic/neural-network/tree/main/es" target="_blank" class="text-blue-600 hover:text-blue-800 transition duration-150 ease-in-out font-medium">
                        &#9993; Repositorio Principal del Proyecto (Carpeta ES)
                    </a>
                </li>
                <li>
                    <a href="https://github.com/akinetic/neural-network/blob/main/es/slrm-logos-es.py" target="_blank" class="text-blue-600 hover:text-blue-800 transition duration-150 ease-in-out font-medium">
                        &#x1F4BB; Script SLRM de Producción (slrm-logos-es.py)
                    </a>
                </li>
                <li>
                    <a href="https://akinetic.github.io/neural-network/es/slrm_reporte_rendimiento.html" target="_blank" class="text-blue-600 hover:text-blue-800 transition duration-150 ease-in-out font-medium">
                        &#x1F4C4; Reporte de Rendimiento y Eficiencia (slrm_reporte_rendimiento.html)
                    </a>
                </li>
            </ul>
        </footer>   
    </div>
</body>
</html>
